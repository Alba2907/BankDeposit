{"version":3,"file":"js/152.087b451f.js","mappings":"4LAKOA,EAAAA,EAAAA,GAA8B,cAAtB,iBAAa,G,GACrBA,EAAAA,EAAAA,GAAwB,cAAhB,WAAO,G,GACfA,EAAAA,EAAAA,GAAsB,cAAd,SAAK,G,GACbA,EAAAA,EAAAA,GAAuB,cAAf,UAAM,G,WAAS,M,GAErBC,MAAM,gB,GACTD,EAAAA,EAAAA,GAAkC,SAA3BE,IAAI,UAAS,UAAM,G,GAExBF,EAAAA,EAAAA,GAAsC,UAA9BG,MAAM,QAAO,YAAQ,G,GAC7BH,EAAAA,EAAAA,GAA0C,UAAlCG,MAAM,aAAY,WAAO,G,GACjCH,EAAAA,EAAAA,GAAuC,UAA/BG,MAAM,UAAS,WAAO,G,GAC9BH,EAAAA,EAAAA,GAA4C,UAApCG,MAAM,WAAU,eAAW,G,GAHnCC,EACAC,EACAC,EACAC,G,SASKN,MAAM,0B,4GAvBCO,EAAAA,UAAAA,EAAAA,EAAAA,OAAlBC,EAAAA,EAAAA,IAAwCC,EAAA,CAAAC,IAAAA,KAECH,EAAAA,UAAAA,EAAAA,EAAAA,OAAzCC,EAAAA,EAAAA,IAmBWG,EAAA,C,MAnBDC,KAAA,GAAKC,MAAM,UAArB,C,kBACE,iBAAsD,EAAtDd,EAAAA,EAAAA,GAAsD,UAAnDe,GAAmD,QAArB,MAAEC,EAAAA,EAAAA,IAAER,EAAAA,QAAQS,KAAG,MAChDjB,EAAAA,EAAAA,GAAkD,UAA/CkB,GAA+C,QAAvB,MAAEF,EAAAA,EAAAA,IAAER,EAAAA,QAAQW,OAAK,MAC5CnB,EAAAA,EAAAA,GAA2D,UAAxDoB,GAAwD,QAAlC,MAAEJ,EAAAA,EAAAA,IAAER,EAAAA,SAASA,EAAAA,QAAQa,SAAM,MACpDrB,EAAAA,EAAAA,GAAoE,UAAjEsB,EAAiE,GAAxCC,EAAAA,EAAAA,IAAoCC,EAAA,CAAvBC,KAAMjB,EAAAA,QAAQkB,QAA3B,oBAE5B1B,EAAAA,EAAAA,GAQM,MARN,EAQM,CAPJ2B,GAOI,SANJ3B,EAAAA,EAAAA,GAKS,UALD4B,GAAG,S,qDAAkBpB,EAAAA,OAAMqB,C,IAAnC,cAA6BrB,EAAAA,aAS/BR,EAAAA,EAAAA,GAA2D,UAAnDC,MAAM,aAAc6B,QAAK,8BAAEtB,EAAAA,QAAAA,EAAAA,OAAAA,MAAAA,EAAAA,UAAF,IAAU,WACDA,EAAAA,aAAAA,EAAAA,EAAAA,OAA1CuB,EAAAA,EAAAA,IAAuE,U,MAA/D9B,MAAM,MAAO6B,QAAK,8BAAEtB,EAAAA,QAAAA,EAAAA,OAAAA,MAAAA,EAAAA,UAAF,IAA4B,cAAtD,eAjBA,I,SADF,WAqBAuB,EAAAA,EAAAA,IAEK,KAFL,EAA0C,mBAC1Bf,EAAAA,EAAAA,IAAEgB,EAAAA,OAAOC,OAAOL,IAAI,QACpC,G,wGAYF,SAEEM,MAFa,WAGX,IAAMC,GAASC,EAAAA,EAAAA,MACTC,GAAUC,EAAAA,EAAAA,KAAI,GACdC,GAAQC,EAAAA,EAAAA,MACRC,GAAQC,EAAAA,EAAAA,MACRhB,GAASY,EAAAA,EAAAA,MACTK,GAAUL,EAAAA,EAAAA,IAAI,CAAC,IAErBM,EAAAA,EAAAA,KAAS,uBAAC,iGACRP,EAAQlC,OAAQ,EADR,SAGcsC,EAAMI,SAAS,kBAAmBN,EAAMN,OAAOL,IAH7D,OAGRe,EAAQxC,MAHA,OAIRuB,EAAOvB,MAAP,UAAewC,EAAQxC,aAAvB,aAAe,EAAeuB,OAC9BW,EAAQlC,OAAQ,EALR,4CAQV,IAAM2C,GAAaC,EAAAA,EAAAA,KAAS,kBAAMJ,EAAQxC,MAAMuB,SAAWA,EAAOvB,KAAtC,IAEtB6C,EAAK,yCAAI,oGACPP,EAAMI,SAAS,iBAAkBN,EAAMN,OAAOL,IADvC,OAEbO,EAAOc,KAAK,KAFC,2CAAJ,qDAKLC,EAAK,yCAAI,iGACPC,GADO,kBACIR,EAAQxC,OADZ,IACmBuB,OAAQA,EAAOvB,MAAOyB,GAAGW,EAAMN,OAAOL,KADzD,SAEPa,EAAMI,SAAS,iBAAkBM,GAF1B,OAGbR,EAAQxC,MAAMuB,OAASA,EAAOvB,MAHjB,2CAAJ,qDAOX,MAAO,CACPkC,QAAAA,EAASM,QAAAA,EAASS,SAAAA,EAAAA,EAAUJ,OAAAA,EAAQE,OAAAA,EAAQxB,OAAAA,EAAQoB,WAAAA,EAKrD,EACHO,WAAY,CAACC,QAAAA,EAAAA,EAASC,UAAAA,EAAAA,EAAWC,UAAAA,EAAAA,I,cCzEjC,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack://vue-practice-app/./src/views/Request.vue","webpack://vue-practice-app/./src/views/Request.vue?7836"],"sourcesContent":["<template>\r\n\r\n  <app-loader v-if=\"loading\"></app-loader>\r\n<!--  мы добавляем параметр бэк, который есть в самом компонете апппейдж, если он есть мы видим кнопку, если нет - не видим, делаем мы его через пропс-->\r\n  <app-page back title=\"Заявка\" v-else-if=\"request\">\r\n    <p><strong>Имя владельца</strong>: {{request.fio}}</p>\r\n    <p><strong>Телефон</strong>: {{request.phone}}</p>\r\n    <p><strong>Сумма</strong>: {{currency(request.amount)}}</p>\r\n    <p><strong>Статус</strong>: <app-status :type=\"request.status\"/></p>\r\n\r\n    <div class=\"form-control\">\r\n      <label for=\"status\">Статус</label>\r\n      <select id=\"status\" v-model=\"status\">\r\n        <option value=\"done\">Завершен</option>\r\n        <option value=\"cancelled\">Отменен</option>\r\n        <option value=\"active\">Активен</option>\r\n        <option value=\"pending\">Выполняется</option>\r\n      </select>\r\n    </div>\r\n\r\n\r\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\r\n    <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\r\n  </app-page>\r\n\r\n  <h3 v-else class=\"text-center text-white\">\r\n    Заявки с ID = {{$route.params.id}} нет\r\n  </h3>\r\n\r\n</template>\r\n\r\n<script>\r\nimport {useRoute, useRouter} from \"vue-router\";\r\nimport {ref, onMounted, computed} from \"vue\";\r\nimport AppPage from \"@/components/ui/AppPage\";\r\nimport {useStore} from \"vuex\";\r\nimport AppLoader from \"@/components/ui/AppLoader\";\r\nimport AppStatus from \"@/components/ui/AppStatus\";\r\nimport {currency} from \"@/utils/currency\";\r\nexport default {\r\n\r\n  setup() {\r\n    const router = useRouter()\r\n    const loading = ref(true)\r\n    const route = useRoute()\r\n    const store = useStore()\r\n    const status = ref()\r\n    const request = ref({})\r\n\r\n    onMounted(async () => {\r\n      loading.value = true\r\n      // мы ждем пока из стора задиспачится событие и также получаем айди по роуту\r\n      request.value = await store.dispatch('request/loadOne', route.params.id)\r\n      status.value = request.value?.status\r\n      loading.value = false\r\n    })\r\n// делаем логику, чтобы показывать кнопку обновить только если поменяли статус, значит статусы не должны быть равны\r\n    const hasChanges = computed(() => request.value.status !== status.value)\r\n\r\n    const remove = async () => {\r\n      await store.dispatch('request/remove', route.params.id)\r\n      router.push('/')\r\n    }\r\n\r\n    const update = async () => {\r\n      const data = {...request.value, status: status.value, id:route.params.id }\r\n      await store.dispatch('request/update', data)\r\n      request.value.status = status.value\r\n    }\r\n    //так мы можем проверить правильный ли айди получаем(выводимый айди должен совпадать с тем, что мы видим в строке поиска бразуера)\r\n    // console.log(route.params.id)\r\n    return {\r\n    loading, request, currency, remove, update, status, hasChanges\r\n\r\n      // возвращаемся айди и обозначаем, что это либо обратиться сразу в шаблоне как мы и сделали вверху\r\n      //  id:route.params.id\r\n    }\r\n  },\r\ncomponents: {AppPage, AppStatus, AppLoader}\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./Request.vue?vue&type=template&id=053820c2\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"F:\\\\Study JS, HTML, CSS\\\\vuejs\\\\portfolioProjexts\\\\bank\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","for","value","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","$setup","_createBlock","_component_app_loader","key","_component_app_page","back","title","_hoisted_1","_toDisplayString","fio","_hoisted_2","phone","_hoisted_3","amount","_hoisted_4","_createVNode","_component_app_status","type","status","_hoisted_7","id","$event","onClick","_createElementBlock","_ctx","params","setup","router","useRouter","loading","ref","route","useRoute","store","useStore","request","onMounted","dispatch","hasChanges","computed","remove","push","update","data","currency","components","AppPage","AppStatus","AppLoader","__exports__","render"],"sourceRoot":""}